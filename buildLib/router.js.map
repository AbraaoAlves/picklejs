{"version":3,"sources":["../lib/router.js"],"names":["routes","beforeEach","cy","server","route","Object","entries","forEach","path","endpoint","method","methods","m","contains","replace","as"],"mappings":";;;;;;;;;;;;;;;;;;;sBAAgBA,MAAD,IAAY;AACvBC,mBAAW,MAAM;AACbC,eAAGC,MAAH;;AAEA;AACAD,eAAGE,KAAH,CAAS,IAAT,EAAe,EAAf;;AAEA;AACAC,mBAAOC,OAAP,CAAeN,MAAf,EAAuBO,OAAvB,CAA+B,CAAC,CAACC,IAAD,EAAOC,QAAP,CAAD,KAAsB;AACjD,oBAAIC,SAAS,KAAb;AACA,sBAAMC,UAAU,CAAC,MAAD,EAAS,KAAT,EAAgB,QAAhB,EAA0B,KAA1B,CAAhB;;AAEAA,wBAAQJ,OAAR,CAAgBK,KAAK;AACjB,wBAAIJ,KAAKK,QAAL,CAAe,GAAED,CAAE,GAAnB,CAAJ,EAA4B;AACxBJ,+BAAOA,KAAKM,OAAL,CAAc,GAAEF,CAAE,GAAlB,EAAsB,EAAtB,CAAP;AACAF,iCAASE,CAAT;AACH;AACJ,iBALD;;AAOAV,mBAAGE,KAAH,CAASM,MAAT,EAAiBF,IAAjB,EAAwB,WAAUC,QAAS,OAA3C,EACKM,EADL,CACQN,QADR;AAEH,aAbD;AAcH,SArBD;AAsBH,K","file":"router.js","sourcesContent":["export default (routes) => {\n    beforeEach(() => {\n        cy.server();\n\n        // disable all xhrs\n        cy.route('**', {});\n    \n        // implement our fixtures\n        Object.entries(routes).forEach(([path, endpoint]) => {\n            let method = 'GET';\n            const methods = ['POST', 'GET', 'DELETE', 'PUT'];\n\n            methods.forEach(m => {\n                if (path.contains(`${m} `)) {\n                    path = path.replace(`${m} `, '');\n                    method = m;\n                }\n            });\n\n            cy.route(method, path, `fixture:${endpoint}.json`)\n                .as(endpoint);\n        });\n    });\n}"]}