{"version":3,"sources":["../lib/router.js"],"names":["processRoutes","routes","Object","entries","forEach","path","endpoint","method","methods","m","includes","replace","cy","route","as","stubAll","beforeEach","server"],"mappings":";;;;;;;;;;;;;;;;;;AAAO,UAAMA,wCAAiBC,MAAD,IAAY;AACrC;AACAC,eAAOC,OAAP,CAAeF,MAAf,EAAuBG,OAAvB,CAA+B,CAAC,CAACC,IAAD,EAAOC,QAAP,CAAD,KAAsB;AACjD,gBAAIC,SAAS,KAAb;AACA,kBAAMC,UAAU,CAAC,MAAD,EAAS,KAAT,EAAgB,QAAhB,EAA0B,KAA1B,CAAhB;;AAEAA,oBAAQJ,OAAR,CAAgBK,KAAK;AACjB,oBAAIJ,KAAKK,QAAL,CAAe,GAAED,CAAE,GAAnB,CAAJ,EAA4B;AACxBJ,2BAAOA,KAAKM,OAAL,CAAc,GAAEF,CAAE,GAAlB,EAAsB,EAAtB,CAAP;AACAF,6BAASE,CAAT;AACH;AACJ,aALD;;AAOAG,eAAGC,KAAH,CAASN,MAAT,EAAiBF,IAAjB,EAAwB,WAAUC,QAAS,OAA3C,EACKQ,EADL,CACQR,QADR;AAEH,SAbD;AAcH,KAhBM;;sBAkBQ,CAACL,MAAD,EAAS,EAAEc,OAAF,KAAc,EAAvB,KAA8B;AACzCC,mBAAW,MAAM;AACbJ,eAAGK,MAAH;;AAEA;AACA,gBAAGF,OAAH,EAAYH,GAAGC,KAAH,CAAS,IAAT,EAAe,EAAf;;AAEZb,0BAAcC,MAAd;AACH,SAPD;AAQH,K","file":"router.js","sourcesContent":["export const processRoutes = (routes) => {\n    // implement our fixtures\n    Object.entries(routes).forEach(([path, endpoint]) => {\n        let method = 'GET';\n        const methods = ['POST', 'GET', 'DELETE', 'PUT'];\n\n        methods.forEach(m => {\n            if (path.includes(`${m} `)) {\n                path = path.replace(`${m} `, '');\n                method = m;\n            }\n        });\n\n        cy.route(method, path, `fixture:${endpoint}.json`)\n            .as(endpoint);\n    });\n}\n\nexport default (routes, { stubAll } = {}) => {\n    beforeEach(() => {\n        cy.server();\n        \n        // disable all xhrs\n        if(stubAll) cy.route('**', {});\n\n        processRoutes(routes);\n    });\n}"]}